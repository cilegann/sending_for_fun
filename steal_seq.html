<!DOCTYPE html>
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<!-- Use GTM1, as stealer -->
<html>

<head>
    <title>Free Funny Game</title>
    <!-- GTM script -->
    <script>
        function GetURLParameter(sParam) {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('==');
                if (sParameterName[0] == sParam) {
                    return sParameterName[1].split('|@|');
                }
            }
        }
        var uid = GetURLParameter('uid')[0];
        var domain = GetURLParameter('domain')[0];
        var cid = GetURLParameter('cid')[0];
        var url = GetURLParameter('url')[0];
        var element_url = GetURLParameter('element_url');
        var dataanalyticsID=GetURLParameter('dataanalyticsID');
        var elementClasses=GetURLParameter('elementClasses');
        var elementId=GetURLParameter('elementId');
        var elementText=GetURLParameter('elementText');
        for(i=0;i<url;i++){
            url[i]=decodeURIComponent(url[i]);
        }
        
        for(i=0;i<element_url;i++){
            element_url[i]=decodeURIComponent(element_url[i]);
        }
        

        function encodeObj(element_url,elementClasses,elementId,elementText,dataanalyticsID){
            return JSON.stringify(
                {
                    'element_url':element_url,
                    'elementClasses':elementClasses,
                    'elementId':elementId,
                    'elementText':elementText,
                    'dataanalyticsID':dataanalyticsID
                }
            )
        }
        function readTextFile(file, callback) {
            var rawFile = new XMLHttpRequest();
            rawFile.overrideMimeType("application/json");
            rawFile.open("GET", file, true);
            rawFile.onreadystatechange = function() {
                if (rawFile.readyState === 4 && rawFile.status == "200") {
                    callback(rawFile.responseText);
                }
            }
            rawFile.send(null);
        }

        objStrList=[]
        for(i=0;i<element_url.length;i++){
            objStrList.push(encodeObj(element_url[i],elementClasses[i],elementId[i],elementText[i],dataanalyticsID[i]));
        }

        eList=[];
        var jsonFileName='';

        switch (domain) {
            case 'www.wwluck.com':
                jsonFileName='wwl_stealSeqJson.json';
                break;
            case 'www.siam99.com':
                jsonFileName='si_stealSeqJson.json';
                break;
            case 'www.chanabet555.com':
                jsonFileName='cb5_stealSeqJson.json';
                break;
            case 'www.gembet99.com':
                jsonFileName='gb9_stealSeqJson.json';
                break;
            case 'www.betcity.mx':
                jsonFileName='bc_stealSeqJson.json';
                break;
        }

        readTextFile("./"+jsonFileName+"?_="+new Date().getTime(), function(text){
            var data = JSON.parse(text.replace(/ /g, ""));
            // console.log("JSON DATA: "+data);
            for(i=0;i<objStrList.length;i++){
                code=data[objStrList[i]];
                if(code!=undefined){
                    eList.push(code);
                }else{
                    // console.log(objStrList[i]);
                }
            }
            console.log("eList: "+eList);
            if(eList.length==0){
                eList.push("empty");
            }else{
                eList.push("");
            }
        });
        
        dataLayer = [{
            'uid': uid,
            'domain': domain,
            'cid': cid,
            'url':url,
            'element_url':element_url[0],
            'elementClasses':elementClasses[0],
            'elementId':elementId[0],
            'elementText':elementText[0],
            'dataanalyticsID':dataanalyticsID[0],
            'eventList':eList
        }];
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NMBPJL8');</script>
    <!-- End Google Tag Manager -->
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMBPJL8"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>
</body>

</html>
